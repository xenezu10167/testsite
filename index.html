<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Will you forgive me?</title>
<style>
  :root{
    --bg:#06070a; --muted:#94a6c2;
    --yes-top:#2ee07a; --yes-bot:#00c65a;
    --no-top:#ff5b5b; --no-bot:#e63939;
    --btn-height:56px; --btn-padding:14px 22px; --btn-radius:12px;
    --gap:16px;
  }

  html,body{
    height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;color:#dbe9ff;
    background:
      radial-gradient(800px 400px at 10% 10%, rgba(99,102,241,0.03), transparent),
      radial-gradient(600px 300px at 90% 90%, rgba(16,185,129,0.01), transparent),
      var(--bg);
    display:flex;align-items:center;justify-content:center;overflow:hidden;
  }

  .card{
    width:min(760px,94vw);max-width:860px;padding:36px 40px;border-radius:16px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.03));
    box-shadow: 0 14px 50px rgba(2,6,23,0.6);display:flex;flex-direction:column;align-items:center;
    text-align:center;position:relative;z-index:1;
  }

  h1{margin:0;font-size:clamp(30px,6vw,56px);line-height:1.02;
    background: linear-gradient(90deg,#fff 0%, #d7ffe6 40%);-webkit-background-clip:text;background-clip:text;color:transparent;
  }
  .sub-msg{margin:6px 0 0;color:var(--muted);font-size:15px}
  .choose-carefully{font-weight:700;color:#dfffe8;font-size:15px;margin-top:8px;min-height:20px}

  .btn-row{
    display:flex;align-items:center;justify-content:center;gap:var(--gap);margin-top:14px;
    min-height:var(--btn-height);position:relative;width:100%;max-width:420px;
  }

  button.btn{
    border:0;padding:var(--btn-padding);border-radius:var(--btn-radius);
    font-size:15px;font-weight:800;cursor:pointer;user-select:none;
    min-width:110px;height:var(--btn-height);display:inline-flex;align-items:center;justify-content:center;
    transition: transform .18s ease, box-shadow .18s ease, opacity .18s;
  }

  button.yes{
    color:white;background:linear-gradient(180deg,var(--yes-bot),var(--yes-top));
    box-shadow:0 10px 36px rgba(0,198,90,0.12),0 0 28px rgba(46,224,122,0.28),0 0 60px rgba(0,198,90,0.18);
  }
  @keyframes pulseGreen{0%{box-shadow:0 10px 36px rgba(0,198,90,0.10),0 0 18px rgba(46,224,122,0.26);}50%{box-shadow:0 16px 48px rgba(0,198,90,0.16),0 0 36px rgba(46,224,122,0.36);}100%{box-shadow:0 10px 36px rgba(0,198,90,0.10),0 0 18px rgba(46,224,122,0.26);}}
  button.yes.glow{animation:pulseGreen 2.6s infinite}

  #noBtn{
    position:fixed; z-index:9999; color:white;
    background:linear-gradient(180deg,var(--no-top),var(--no-bot));
    border-radius:var(--btn-radius); padding:var(--btn-padding); font-weight:800;
    min-width:110px; height:var(--btn-height); display:inline-flex; align-items:center; justify-content:center;
    box-shadow:0 8px 24px rgba(230,57,57,0.18),0 4px 10px rgba(0,0,0,0.35);
    transition:left .28s cubic-bezier(.22,.9,.3,1), top .28s cubic-bezier(.22,.9,.3,1), transform .18s;
    pointer-events:auto;
    left:50%; top:60%; transform:translate(-50%,-50%);
    will-change: transform, left, top, opacity;
    transform-origin: center;
  }

  @keyframes dropSmooth {
    0% {transform: translateY(0) rotate(0deg) scale(1);opacity: 1;}
    38% {transform: translateY(52vh) rotate(6deg) scale(0.98);opacity: 1;}
    60% {transform: translateY(44vh) rotate(3deg) scale(0.995);opacity: 0.98;}
    82% {transform: translateY(86vh) rotate(14deg) scale(0.92);opacity: 0.92;}
    100% {transform: translateY(130vh) rotate(28deg) scale(0.9);opacity: 0;}
  }

  .drop-away{
    animation-name: dropSmooth;
    animation-duration: 1200ms;
    animation-timing-function: cubic-bezier(.22,.9,.3,1);
    animation-fill-mode: forwards;
    will-change: transform, opacity;
    pointer-events: none;
  }

  .side-note{font-size:13px;color:var(--muted);line-height:1.35;text-align:center;margin-top:6px}
  @media (max-width:520px){button.btn{min-width:92px;padding:12px 16px}}
</style>
</head>
<body>
  <main class="card" role="main" aria-labelledby="title">
    <h1 id="title">Will you forgive me?</h1>
    <p class="sub-msg">blank for now</p>
    <div class="choose-carefully" id="chooseText">Choose</div>

    <div class="btn-row" aria-hidden="false">
      <button class="btn yes glow" id="yesBtn" aria-label="Forgive me Yes">Yes</button>
      <div style="width:110px;height:56px" aria-hidden="true"></div>
    </div>

    <div class="side-note">blank for now2</div>
  </main>

  <button id="noBtn" aria-label="Forgive me No">No</button>

  <!-- Your sound file -->
  <audio id="yesSound" src="Thankyoumeme.mp3" preload="auto"></audio>

<script>
  const noBtn = document.getElementById('noBtn');
  const yesBtn = document.getElementById('yesBtn');
  const chooseText = document.getElementById('chooseText');

  let noClicks = 0;
  let evasive = false;
  let disappeared = false;
  const clamp = (v,a,b) => Math.max(a, Math.min(b, v));
  const gap = 16;

  function positionNoToRightOfYes(instant = true) {
    const yesRect = yesBtn.getBoundingClientRect();
    const noRect = noBtn.getBoundingClientRect();
    const targetX = Math.round(yesRect.right + noRect.width / 2 + (gap/2));
    const targetY = Math.round(yesRect.top + yesRect.height / 2);
    setNoPos(targetX, targetY, instant);
  }

  function setNoPos(x, y, instant = false) {
    if (instant) {
      noBtn.style.transition = 'none';
      noBtn.style.left = x + 'px';
      noBtn.style.top = y + 'px';
      noBtn.style.transform = 'translate(-50%,-50%)';
      requestAnimationFrame(()=> noBtn.style.transition = '');
      return;
    }
    noBtn.style.left = x + 'px';
    noBtn.style.top = y + 'px';
    noBtn.style.transform = 'translate(-50%,-50%)';
  }

  function randomViewportPosition(margin = 12) {
    const vw = window.innerWidth; 
    const vh = window.innerHeight;
    const rect = noBtn.getBoundingClientRect();
    const halfW = Math.round(rect.width / 2); 
    const halfH = Math.round(rect.height / 2);

    const minX = margin + halfW; 
    const maxX = Math.max(minX, vw - margin - halfW);

    const minY = margin + halfH; 
    const maxY = Math.max(minY, vh - margin - halfH);

    const x = Math.round(minX + Math.random() * (maxX - minX));
    const y = Math.round(minY + Math.random() * (maxY - minY));
    return {x, y};
  }

  function moveNoRandomly() {
    const p = randomViewportPosition(12);
    setNoPos(p.x, p.y);
  }

  function moveAwayFromPointer(ev) {
    const vw = window.innerWidth; const vh = window.innerHeight;
    const rect = noBtn.getBoundingClientRect();
    const cx = rect.left + rect.width/2; const cy = rect.top + rect.height/2;
    let dx = cx - ev.clientX; let dy = cy - ev.clientY;
    const mag = Math.hypot(dx, dy) || 1; dx /= mag; dy /= mag;
    const targetX = Math.round(clamp(cx + dx * (vw * 0.45) + (Math.random()-0.5)*120, 12 + rect.width/2, vw - 12 - rect.width/2));
    const targetY = Math.round(clamp(cy + dy * (vh * 0.45) + (Math.random()-0.5)*120, 12 + rect.height/2, vh - 12 - rect.height/2));
    setNoPos(targetX, targetY);
  }

  function showTransientMessage(text) {
    chooseText.style.opacity = '0';
    chooseText.textContent = text;
    requestAnimationFrame(()=>{ chooseText.style.transition = 'opacity .18s'; chooseText.style.opacity = '1'; });
  }

  noBtn.addEventListener('click', (e) => {
    if (disappeared) return;
    noClicks++;
    if (noClicks === 1) {
      chooseText.textContent = '';
      showTransientMessage('Are u sure?');
    } else if (noClicks === 2) {
      showTransientMessage('Are u really sure???');
    } else if (noClicks === 3) {
      showTransientMessage('Must been the wind...');
      evasive = true;
      moveNoRandomly();
    } else if (noClicks === 5) {
      showTransientMessage('so uhhh it fell...');
      disappeared = true;
      noBtn.classList.add('drop-away');
      noBtn.style.pointerEvents = 'none';
      setTimeout(()=> { noBtn.style.display = 'none'; }, 1400);
    } else {
      if (evasive) {
        moveAwayFromPointer(e);
        showTransientMessage('ummm...');
      } else {
        showTransientMessage('ummm...');
      }
    }
  });

  noBtn.addEventListener('pointerenter', (e) => {
    if (disappeared) return;
    if (!evasive) return;
    if (Math.random() > 0.18) moveAwayFromPointer(e);
  });

  let lastPanic = 0;
  document.addEventListener('pointermove', (e) => {
    if (!evasive || disappeared) return;
    const rect = noBtn.getBoundingClientRect();
    const dx = e.clientX - (rect.left + rect.width/2);
    const dy = e.clientY - (rect.top + rect.height/2);
    const dist = Math.hypot(dx, dy);
    if (dist < 140 && Date.now() - lastPanic > 220) {
      lastPanic = Date.now();
      moveAwayFromPointer(e);
    }
  }, {passive:true});

  yesBtn.addEventListener('click', () => {
    chooseText.textContent = '';
    showTransientMessage('Thank you');
    yesBtn.style.transform = 'scale(1.06)';
    yesBtn.style.transition = 'transform 220ms cubic-bezier(.2,.9,.3,1)';
    setTimeout(()=> { yesBtn.style.transform = ''; }, 260);

    // Play your sound file
    const audio = document.getElementById('yesSound');
    audio.currentTime = 0; // restart if clicked quickly
    audio.play();
  });

  window.addEventListener('resize', () => {
    if (!evasive && !disappeared) positionNoToRightOfYes(true);
    if (disappeared) return;
    const rect = noBtn.getBoundingClientRect();
    const halfW = Math.round(rect.width/2), halfH = Math.round(rect.height/2);
    let x = rect.left + halfW, y = rect.top + halfH;
    x = clamp(x, 12 + halfW, window.innerWidth - 12 - halfW);
    y = clamp(y, 12 + halfH, window.innerHeight - 12 - halfH);
    setNoPos(x, y, true);
  });

  window.addEventListener('load', () => {
    positionNoToRightOfYes(true);
    chooseText.textContent = 'Choose';
    setTimeout(()=>{ if(!evasive && !disappeared) positionNoToRightOfYes(true); }, 80);
  });
</script>
</body>
</html>
